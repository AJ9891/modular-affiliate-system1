# Development Environment Setup - Full Error Reporting & Debugging\n\nThis guide will help you set up a development environment that provides detailed error messages, source maps, and comprehensive debugging capabilities instead of minified production errors.\n\n## Quick Start\n\n### 1. Enhanced Development Server\n\nRun the enhanced development server with full debugging:\n\n```bash\n# From the root directory\nnpm run dev:enhanced\n\n# Or directly in apps/web\ncd apps/web\n./dev-server.sh\n\n# Alternative: manual setup\nnpm run dev:web:debug\n```\n\n### 2. Environment Setup\n\n1. Copy your environment variables:\n```bash\ncp apps/web/.env.example apps/web/.env.local\n# Configure with your actual values\n```\n\n2. The system automatically loads `.env.development` with debug settings when `NODE_ENV=development`\n\n## What's Changed\n\n### Next.js Configuration\n\n✅ **Source Maps**: Enabled `eval-source-map` for non-minified debugging\n✅ **Minification**: Disabled in development\n✅ **Error Reporting**: Verbose error details with stack traces\n✅ **Request Logging**: Full URL logging for API requests\n✅ **Build Optimizations**: Environment-specific (dev vs prod)\n\n### Enhanced API Error Handling\n\n✅ **Detailed Logging**: Every API call logs request/response details\n✅ **Error Context**: Full error objects with stack traces\n✅ **Debug Mode**: Additional debugging info in development\n✅ **Timestamps**: All errors include timestamps\n✅ **User Context**: User ID included in all error logs\n\n### Client-Side Debugging\n\n✅ **Error Boundary**: React Error Boundary with full stack traces\n✅ **Dev Utils**: Comprehensive debugging utilities\n✅ **API Wrapper**: Enhanced fetch with automatic logging\n✅ **Performance Monitoring**: Request timing and performance logs\n\n## Available Development Scripts\n\n### Root Level (Turbo)\n```bash\nnpm run dev:debug      # All apps with debug logging\nnpm run dev:enhanced   # Enhanced web app with full debugging\nnpm run type-check     # TypeScript validation\nnpm run lint:fix       # Auto-fix linting issues\n```\n\n### Web App Specific\n```bash\nnpm run dev           # Standard development\nnpm run dev:debug     # With DEBUG=* environment\nnpm run dev:turbo     # Using Turbo engine\nnpm run dev:verbose   # Experimental verbose mode\nnpm run build:debug   # Debug build with NEXT_DEBUG=1\nnpm run analyze       # Bundle analysis\n```\n\n## Error Investigation Workflow\n\n### 1. Check the Console\nWith the new setup, you'll see:\n- `[BRAND-BRAIN API]` prefixed logs for API debugging\n- `[DEV ERROR]` prefixed client-side error logs\n- Full stack traces instead of minified errors\n- Request/response logging for all API calls\n\n### 2. API Error Debugging\nThe brand-brain API now provides:\n```javascript\n// Development response includes debug info\n{\n  \"error\": \"Database query error\",\n  \"debug\": {\n    \"message\": \"Database query error\",\n    \"code\": \"PGRST106\",\n    \"details\": \"...\",\n    \"user_id\": \"...\",\n    \"timestamp\": \"2026-01-18T...\"\n  }\n}\n```\n\n### 3. Client-Side Error Boundary\nIf a React component crashes, you'll see:\n- Component name and stack trace\n- Props and state at the time of error\n- \"Try Again\" and \"Reload Page\" buttons\n- Full error details in development\n\n### 4. Network Debugging\nUse the enhanced fetch wrapper:\n```javascript\nimport { devFetch } from '@/lib/dev-utils';\n\n// Automatic logging of request/response\nconst result = await devFetch('/api/brand-brain');\n```\n\n## Common Issues and Solutions\n\n### Issue: Still seeing minified errors\n**Solution**: Ensure you're running with `NODE_ENV=development`\n```bash\n# Check current environment\necho $NODE_ENV\n\n# Force development mode\nNODE_ENV=development npm run dev\n```\n\n### Issue: API returning 500 errors\n**Solution**: Check the enhanced server logs\n1. Look for `[BRAND-BRAIN API]` prefixed logs\n2. Check if the database table exists\n3. Verify Supabase connection\n4. Check authentication state\n\n### Issue: No debug information in API responses\n**Solution**: Verify development environment\n```bash\n# Should show debug info in development\ncurl \"http://localhost:3000/api/brand-brain\" \\\n  -H \"Cookie: your-session-cookie\"\n```\n\n### Issue: React errors not showing details\n**Solution**: Ensure Error Boundary is wrapped around your components\n```jsx\nimport { DevErrorBoundary } from '@/components/DevErrorBoundary';\n\nfunction MyApp() {\n  return (\n    <DevErrorBoundary>\n      <YourComponent />\n    </DevErrorBoundary>\n  );\n}\n```\n\n## Production vs Development\n\n| Feature | Development | Production |\n|---------|-------------|------------|\n| Source Maps | ✅ Full | ❌ None |\n| Minification | ❌ Disabled | ✅ Enabled |\n| Error Details | ✅ Full Stack | ❌ Generic |\n| API Debug Info | ✅ Included | ❌ Hidden |\n| Console Logging | ✅ Verbose | ❌ Minimal |\n| Build Optimization | ❌ Speed Focus | ✅ Size Focus |\n\n## Browser DevTools Setup\n\n1. **React DevTools**: Install the browser extension\n2. **Network Tab**: Monitor all API requests with full details\n3. **Console**: Set filter to show all logs (not just errors)\n4. **Sources**: Use source maps for debugging compiled code\n\n## VS Code Debugging\n\nCreate `.vscode/launch.json` for Next.js debugging:\n```json\n{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"name\": \"Next.js: debug server-side\",\n      \"type\": \"node-terminal\",\n      \"request\": \"launch\",\n      \"command\": \"npm run dev\",\n      \"serverReadyAction\": {\n        \"pattern\": \"started server on .+, url: (https?://.+)\",\n        \"uriFormat\": \"%s\",\n        \"action\": \"debugWithChrome\"\n      }\n    }\n  ]\n}\n```\n\n## Monitoring and Logging\n\nIn development, all errors and requests are logged to the console. For production, consider integrating:\n- **Sentry** for error tracking\n- **LogRocket** for session replay\n- **DataDog** for application monitoring\n\n---\n\n## Next Steps\n\n1. Run `npm run dev:enhanced` to start with full debugging\n2. Open your browser's DevTools\n3. Navigate to the page with errors\n4. Check console for detailed error information\n5. Use the Network tab to inspect API calls\n\nYou should now see full error messages instead of minified code references!